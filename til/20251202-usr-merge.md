# 20251202 - /usr merge

/usr merge는 `/`, `/usr` 상에서 각각 존재하는 directory들을
`/usr` 상으로 합치려는 움직임이다.
e.g. `/bin`, `/usr/bin`으로 각각 존재하는 디렉토리를 `/usr/bin`으로 합친다.

`/` 상의 directory를 `/usr` 상의 directory로 symlink를 지정하는 형태로 구현한다.
e.g. Debian 13:
```
$ ls -l /bin
lrwxrwxrwx 1 root root 7 Dec  1 19:10 /bin -> usr/bin
```

진행하는 주된 이유는 다음과 같다.
1. `/usr` directory로의 분리는 historical 하며, 현대에는 분리할 큰 이유가 존재하지 않는다.
2. distro 별로 여러 프로그램의 위치가 둘 사이에서 일관적이지 않아,
   packaging 등에서 문제가 발생한다.
   merging을 통해 hierarchy를 일관적으로 유지하면 이러한 frustration을 줄일 수 있다.

## Sources

<https://systemd.io/THE_CASE_FOR_THE_USR_MERGE/>

## 추가: filesystem hierarchy가 일관되어야 하는 이유 (생각 정리하기)

Linux의 filesystem hierarchy는 기술적으로는 distro마다 달라질 수 있다.
그러나 여전히 distro마다 일관성 있게 구성되어야 할 이유가 있으며 이는 다음과 같다.

1. 사용자 frustration을 줄이기 위해
   일관성이 없다면 사용자는 distro 별로 조금씩 다른 점을 파악해야 할 것이다.
   이는 시스템 이용의 예측 가능성 및 편의성을 저하시킨다.
   
2. cross-distribution 작동을 위해
   프로그램이나 스크립트를 cross-distribution으로 만들고 싶은 경우,
   일관성 없는 hierarchy는 허들이 될 수 있다.
   distro마다 다른 점을 신경써주어야 하기 때문이다.
